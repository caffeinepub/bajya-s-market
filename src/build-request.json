{
  "kind": "build_request",
  "title": "Make the store installable as an Android-ready PWA and provide Play Store (TWA) packaging steps",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Add Progressive Web App (PWA) support so the website can be installed on Android (Add to Home Screen) and used as the basis for a Play Store Trusted Web Activity (TWA). This includes adding a web app manifest, appropriate meta tags, and required icon assets.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "Ok ab is website ko apk file me convert kardo jise me download karke play store par publish kar saku"
        ]
      },
      "acceptanceCriteria": [
        "A valid manifest file is available from the app (e.g., /manifest.webmanifest) and includes: name, short_name, start_url, scope, display=standalone, background_color, theme_color, and icon entries (including at least one maskable icon).",
        "frontend/index.html includes a <link rel=\"manifest\" ...> and sets theme-color meta to match the manifest.",
        "The PWA installs successfully on Android Chrome via 'Add to Home screen' and launches in standalone mode.",
        "All icon URLs referenced by the manifest resolve successfully (no 404s)."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Add a service worker and registration to enable basic offline resilience for the app shell (at minimum: cache the entry HTML, JS/CSS bundles, and a simple offline fallback page/response). Registration must be done without modifying immutable files (do not edit frontend/src/main.tsx).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "Ok ab is website ko apk file me convert kardo jise me download karke play store par publish kar saku"
        ]
      },
      "acceptanceCriteria": [
        "A service worker file exists (e.g., /sw.js) and is registered from a non-immutable frontend source file (e.g., from frontend/src/App.tsx or another editable component).",
        "With the site loaded once, switching the browser to offline still allows the app shell to load (or shows a clear offline fallback UI) instead of a default network error.",
        "Service worker registration does not break normal browsing (no infinite reload loops; no console errors on first load)."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Add an in-app user flow that helps the user install the app on Android (e.g., an 'Install App' button shown when the beforeinstallprompt event is available, plus a fallback instruction tooltip/text when it is not available).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "Ok ab is website ko apk file me convert kardo jise me download karke play store par publish kar saku"
        ]
      },
      "acceptanceCriteria": [
        "When the PWA install prompt is available, an 'Install App' UI element is shown and triggers the native install prompt.",
        "When the install prompt is not available, the UI provides clear guidance (English text) explaining how to install via the browser menu.",
        "The install UI is accessible on both desktop and mobile layouts (no layout overlap with the existing header/navigation)."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Provide a Play Store publishing path by adding a clear, English step-by-step guide inside the project (as a document file in the repo) explaining how to produce an Android APK/AAB using a Trusted Web Activity (TWA) wrapper (e.g., Android Studio + Bubblewrap) for https://bajyasmarketshop.icp0.io, including required settings (package name, versioning, icons, signing keystore) and noting that Google Play typically requires an AAB.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "Ok ab is website ko apk file me convert kardo jise me download karke play store par publish kar saku"
        ]
      },
      "acceptanceCriteria": [
        "A documentation file is added to the repository that includes: the production URL (https://bajyasmarketshop.icp0.io), required Android package identifier guidance, how to generate a signing key, how to build an APK/AAB, and what to upload to Play Console.",
        "The guide explicitly states the limitation that this project itself does not directly output an APK from the IC deployment, and that packaging is done externally using TWA tooling.",
        "The guide references the PWA manifest and icons added in REQ-1 as prerequisites."
      ]
    }
  ],
  "constraints": [
    "Do not edit any frontend files under the immutable paths listed in SYSTEM_CONTEXT (including frontend/src/main.tsx and frontend/src/hooks/* and frontend/src/components/ui).",
    "Backend must remain a single Motoko actor in backend/main.mo; no additional backend services.",
    "Do not introduce third-party authentication; keep Internet Identity as-is."
  ],
  "nonGoals": [
    "Implementing native Android features (push notifications, native payments, geolocation, background sync beyond basic caching).",
    "Building and attaching a real APK/AAB artifact directly from this IC projectâ€™s deployment pipeline.",
    "Adding non-Internet-Identity login providers (Google/Facebook/etc.)."
  ],
  "imageRequirements": {
    "required": [
      "App icon, square, high-contrast, brand-safe (pwa-icon-512.dim_512x512.png)",
      "App icon, square (pwa-icon-192.dim_192x192.png)",
      "App icon, maskable safe-area design (pwa-icon-maskable-512.dim_512x512.png)"
    ],
    "edits": []
  }
}