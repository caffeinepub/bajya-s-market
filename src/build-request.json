{
  "kind": "build_request",
  "title": "Push current deployment live to production (fix go-live issues and verify live PWA)",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Identify and fix the root cause of the current go-live/production deployment failure (previously encountered while launching Version 8) so that the app can be successfully promoted from draft to live production.",
      "target": "both",
      "source": {
        "messageIds": [
          "recent-1"
        ],
        "quotes": [
          "Yes pushing it to live production"
        ]
      },
      "acceptanceCriteria": [
        "A production deployment (go-live) completes successfully without errors.",
        "No regression in core functionality (product list fetch, product details route, admin page access gating) after the fix.",
        "If backend state schema changes are required, add a conditional Motoko migration in `backend/migration.mo`; otherwise do not change migration behavior."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Ensure all PWA icon assets referenced by `frontend/public/manifest.webmanifest` exist under `frontend/public/assets/generated/` with the exact filenames and pixel dimensions required by the manifest.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-1"
        ],
        "quotes": [
          "Yes pushing it to live production"
        ]
      },
      "acceptanceCriteria": [
        "`frontend/public/assets/generated/pwa-icon-192.dim_192x192.png` exists and is 192x192.",
        "`frontend/public/assets/generated/pwa-icon-512.dim_512x512.png` exists and is 512x512.",
        "`frontend/public/assets/generated/pwa-icon-maskable-512.dim_512x512.png` exists and is 512x512 and suitable for maskable usage (safe-area composition).",
        "The manifest icons load without 404s when the app is served (no missing icon requests in browser devtools network panel)."
      ]
    },
    {
      "id": "REQ-3",
      "text": "After the deployment fix, verify the application is live and usable at the expected live PWA origin https://bajyasmarketshop.icp0.io, including basic smoke checks for routing and product loading.",
      "target": "both",
      "source": {
        "messageIds": [
          "recent-1"
        ],
        "quotes": [
          "Yes pushing it to live production"
        ]
      },
      "acceptanceCriteria": [
        "Visiting https://bajyasmarketshop.icp0.io loads the app successfully.",
        "Navigating to the Home page, Products page, and a Product Details page works without routing errors.",
        "The product list loads successfully from the backend (no uncaught exceptions; user-facing errors are handled).",
        "The 404 / Not Found route renders when visiting an unknown path.",
        "Service worker registers without throwing runtime errors in console (warnings are acceptable)."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single Motoko actor with all logic in `backend/main.mo`; use `backend/migration.mo` only if existing stable state requires changes.",
    "Do not edit any frontend files under `frontend/src/components/ui` or any paths listed as immutable in SYSTEM_CONTEXT.",
    "Keep user-facing text in English."
  ],
  "nonGoals": [
    "Adding new product-store features beyond what is required to fix deployment/go-live.",
    "Introducing third-party auth providers (only Internet Identity is supported).",
    "Adding external databases or non-Motoko backend services.",
    "Publishing to Google Play / TWA packaging (out of scope unless explicitly requested)."
  ],
  "imageRequirements": {
    "required": [
      "App icon, square (pwa-icon-192.dim_192x192.png) 192x192",
      "App icon, square (pwa-icon-512.dim_512x512.png) 512x512",
      "App icon, maskable safe-area design (pwa-icon-maskable-512.dim_512x512.png) 512x512"
    ],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}